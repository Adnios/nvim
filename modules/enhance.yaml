- repo: Shougo/dein.vim

- repo: norcalli/nvim-colorizer.lua
  on_ft:
    [
      html,
      css,
      sass,
      scss,
      vim,
      javascript,
      javascriptreact,
      typescript,
      typescriptreact,
    ]
  hook_source: |
    lua <<EOF
    require 'colorizer'.setup {
      css = { rgb_fn = true; };
      scss = { rgb_fn = true; };
      sass = { rgb_fn = true; };
      stylus = { rgb_fn = true; };
      vim = { names = true; };
      tmux = { names = false; };
      'javascript';
      'javascriptreact';
      'typescript';
      'typescriptreact';
      html = {
        mode = 'foreground';
      }
    }
    EOF

- repo: itchyny/vim-cursorword
  on_event: [BufReadPre,BufNewFile]
  hook_source: |
    augroup user_plugin_cursorword
      autocmd!
      autocmd FileType defx,denite,fern,clap,vista let b:cursorword = 0
      autocmd WinEnter * if &diff || &pvw | let b:cursorword = 0 | endif
      autocmd InsertEnter * let b:cursorword = 0
      autocmd InsertLeave * let b:cursorword = 1
    augroup END

- repo: hrsh7th/vim-eft
  on_event: VimEnter
  hook_source: let g:eft_ignorecase = v:true

- repo: lukas-reineke/indent-blankline.nvim
  if: 0
  on_event: FileType
  hook_source: |
    lua <<EOF
    require("indent_blankline").setup {
        char = "â”‚",
        show_foldtext = false,
        show_first_indent_level = true,
        filetype_exclude = {
            "startify", "dashboard", "dotooagenda", "log", "fugitive",
            "gitcommit", "packer", "vimwiki", "markdown", "json", "txt",
            "vista", "help", "todoist", "NvimTree", "peekaboo", "git",
            "TelescopePrompt", "undotree", "flutterToolsOutline", "" -- for all buffers without a file type
        },
        buftype_exclude = {"terminal", "nofile"},
        show_trailing_blankline_indent = false,
        show_current_context = true,
        context_patterns = {
            "class", "function", "method", "block", "list_literal", "selector",
            "^if", "^table", "if_statement", "while", "for", "type", "var",
            "import"
        }
    }
    -- color for onedark https://github.com/lukas-reineke/indent-blankline.nvim/issues/125
    vim.cmd('highlight IndentBlanklineContextChar guifg=#7987A0 gui=nocombine') -- #7987A0
    vim.cmd('highlight IndentBlanklineChar guifg=#5c6370 gui=nocombine') -- #7987A0
    -- because lazy load indent-blankline so need readd this autocmd
    vim.cmd('autocmd CursorMoved * IndentBlanklineRefresh')
    EOF

- repo: nathanaelkane/vim-indent-guides
  on_event: FileType
  # hook_post_source: IndentGuidesEnable
  hook_source: |
    let g:indent_guides_enable_on_vim_startup = 0
    let g:indent_guides_default_mapping = 0
    let g:indent_guides_tab_guides = 0
    let g:indent_guides_color_change_percent = 5
    let g:indent_guides_guide_size = 1
    let g:indent_guides_exclude_filetypes = [
      \ 'help', 'man', 'fern', 'defx', 'denite', 'denite-filter', 'startify',
      \ 'vista', 'vista_kind', 'tagbar', 'lsp-hover', 'clap_input', 'fzf',
      \ 'any-jump', 'gina-status', 'gina-commit', 'gina-log', 'minimap',
      \ 'quickpick-filter', 'lsp-quickpick-filter', 'lspinfo', 'dashboard',
      \ 'dashpreview', 'sagahover', 'log', 'txt', 'floaterm', 'terminal', ''
      \ ]
    augroup user_plugin_indentguides
      autocmd!
      autocmd BufEnter *
      \ if ! empty(&l:filetype) && empty(&buftype) && ! &previewwindow
      \|   if g:indent_guides_autocmds_enabled == 0 && &l:expandtab
      \|     IndentGuidesEnable
      \|   elseif g:indent_guides_autocmds_enabled == 1 && ! &l:expandtab
      \|     IndentGuidesDisable
      \|   endif
      \| endif
      au TermEnter * IndentGuidesDisable
      au TermLeave * IndentGuidesEnable
    augroup END
    "autocmd user_events FileType * ++once IndentGuidesEnable

# :UpdateRemotePlugins, pip install pyre2
- repo: gelguy/wilder.nvim
  on_event: 'CmdlineEnter'
  build: ":UpdateRemotePlugins"
  hook_post_source: source $HOME/.config/nvim/vimplugins/wilder.vim

- repo: roxma/nvim-yarp
  on_source: gelguy/wilder.nvim

- repo: roxma/vim-hug-neovim-rpc
  on_source: gelguy/wilder.nvim

- repo: junegunn/vim-peekaboo
  on_event: BufRead

- repo: rhysd/accelerated-jk
  on_map: { n: <Plug> }
  hook_add: |
    nmap j <Plug>(accelerated_jk_gj)
    nmap k <Plug>(accelerated_jk_gk)
